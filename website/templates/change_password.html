{% extends "self_care_layout.html" %}
{% from "_macros.html" import render_field, render_submit %}

{% block title %}Self-care change password{% endblock %}

{% block portal_content %}

<div class="col-md-8 p-3">

  <h3 class="py-2 text-red">Change Password</h3>

  <div class="content-section">

    <form method="POST" id="change-pwd-form">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">

        <!-- OLD PASSWORD -->
        <div class="form-row">
          {{ render_field(form.old_password) }}
        </div>

        <!-- NEW PASSWORD -->
        <div class="form-row">
          {{ render_field(form.new_password) }}
        </div>

        <!-- PASSWORD CONFIRM -->
        <div class="form-row">
          {{ render_field(form.confirm) }}
        </div>

      </fieldset> <!-- fieldset -->

      <!-- SUBMIT -->
      {{ render_submit(form.submit, id="change-pwd-btn") }}

    </form>

  </div> <!-- content-section -->

</div> <!-- col -->

{% endblock %}

{% block scripts %}

  {{ super() }}

  <script>

    $(document).ready(function() {

        // loading stage for updating profile request
        $("#change-pwd-form").submit(function(event) {
                $("#change-pwd-btn").val("Setting New Password...");
        });

    })

  </script>

{% endblock %}
