{% extends "layout.html" %}

{% block title %}Plans{% endblock %}

{% block content %}

<div class="container p-3">

  <!-- PLAN TABS -->
  <div class="btn-group btn-group-toggle" data-toggle="buttons">
    {% for plan in plans %}
      <label class="btn btn-primary">
        <input type="radio" id="{{ plan.__name__ }}"
               name="options" value="{{ plan.__name__ }}"
               onchange="displayTable(this);"/>
        {{ plan.__name__.split('Plan')[0] }}
      </label>
    {% endfor %}
  </div>

</div> <!-- container -->

<!-- PLAN TABLES -->
<div class="container">
  {% for plan in plans %}
  <table class="table table-striped">

    <!-- HEAD -->
    <thead>
      <tr>
        {% for column in plan.__table__.columns %}
          <th scope="col">{{ column.name }}</th>
        {% endfor %}
      </tr>
    </thead>

    <tbody>
      <tr>
        {% for row in plan.query.all() %}
          <td>{{ row }}</td>
        {% endfor %}
      </tr>
    </tbody>

  </table>
  {% endfor %}
</div> <!-- container -->

{% endblock %}

{% block scripts %}

  {{ super() }}

  <script>
    function displayTable(elem) {
        alert($(elem).val());
    }
  </script>

{% endblock %}
