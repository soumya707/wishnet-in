{% extends "self_care_layout.html" %}
{% from "_macros.html" import render_field, render_submit %}

{% block title %}Self-care update profile{% endblock %}

{% block portal_content %}

<div class="col-md-8 p-3">

  <h3 class="py-2 text-red">Update Profile</h3>

  <div class="content-section">

    <form method="POST" id="update-profile-form">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">

        <!-- NEW MOBILE NO. -->
        <div class="form-row">
          {{ render_field(form.new_phone_no) }}
        </div>

        <!-- NEW EMAIL ID -->
        <div class="form-row">
          {{ render_field(form.new_email_address) }}
        </div>

      </fieldset> <!-- fieldset -->

      <!-- SUBMIT -->
      {{ render_submit(form.submit, id="update-profile-btn") }}

    </form>

  </div> <!-- content-section -->

</div> <!-- col -->

{% endblock %}

{% block scripts %}

  {{ super() }}

  <script>

    $(document).ready(function() {

        // loading stage for updating profile request
        $("#update-profile-form").submit(function(event) {
                $("#update-profile-btn").val("Updating...");
        });

    })

  </script>

{% endblock %}
